import './polyfills.server.mjs';
import{a as V}from"./chunk-H7IUWZK4.mjs";import{k as S,l as E}from"./chunk-FTZFH2EY.mjs";import{a as k,b as _,c as A,d as T,i as N,k as R,l as q,n as D,p as G}from"./chunk-LG35WG5Z.mjs";import"./chunk-KM5PY7WN.mjs";import{j as y}from"./chunk-SZOCP5LK.mjs";import{Db as l,Kb as x,Lb as v,Na as s,S as L,W as C,cb as p,gb as f,kb as c,nb as n,ob as i,pb as h,wb as w,xb as F}from"./chunk-QBPLAOC7.mjs";import"./chunk-VVCT4QZE.mjs";var B=(e,o)=>({"is-valid":e,"is-invalid":o});function M(e,o){e&1&&(n(0,"p"),l(1,"Email is Required"),i())}function P(e,o){e&1&&(n(0,"p"),l(1,"Enter Valid Email "),i())}function $(e,o){if(e&1&&(n(0,"div",6),p(1,M,2,0,"p")(2,P,2,0),i()),e&2){let d,m=F();s(),c(1,(d=m.LoginForm.get("email"))!=null&&d.getError("required")?1:(d=m.LoginForm.get("email"))!=null&&d.getError("email")?2:-1)}}function j(e,o){e&1&&(n(0,"p"),l(1,"password is Required"),i())}function z(e,o){e&1&&(n(0,"p"),l(1,"At least one uppercase letter (A-Z). "),i(),n(2,"p"),l(3,"At least one lowercase letter (a-z)."),i(),n(4,"p"),l(5,"At least one lowercase number (0-9)."),i(),n(6,"p"),l(7,"At least one symbol (#?!$%^&*-)."),i(),n(8,"p"),l(9,"The word must be 8 or more characters long."),i())}function U(e,o){if(e&1&&(n(0,"div",6),p(1,j,2,0,"p")(2,z,10,0),i()),e&2){let d,m=F();s(),c(1,(d=m.LoginForm.get("password"))!=null&&d.getError("required")?1:(d=m.LoginForm.get("password"))!=null&&d.getError("pattern")?2:-1)}}function Z(e,o){e&1&&(n(0,"span",12),l(1,"Login"),i(),n(2,"span"),h(3,"i",13),i())}function I(e,o){e&1&&(n(0,"span"),l(1,"Login"),i())}var ee=(()=>{let o=class o{constructor(){this._AuthService=L(V),this._FormBuilder=L(D),this._Router=L(S),this.isLoading=!1,this.LoginForm=this._FormBuilder.group({email:[null,[_.required,_.email]],password:[null,[_.required,_.pattern(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/)]]})}submitLoginForm(){this.LoginForm.valid?(this.isLoading=!0,this.fetchApi()):(this.LoginForm.markAllAsTouched(),this.isLoading=!1)}fetchApi(){this._AuthService.signin(this.LoginForm.value).subscribe({next:m=>{m.message=="success"&&setTimeout(()=>{localStorage.setItem("socialToken",m.token),this._AuthService.saveUserData(),this._Router.navigate(["/timeline"])},1e3),this.isLoading=!1},error:m=>{this.isLoading=!1}})}};o.\u0275fac=function(b){return new(b||o)},o.\u0275cmp=C({type:o,selectors:[["app-login"]],standalone:!0,features:[x],decls:21,vars:13,consts:[[1,"container","mx-auto","px-4","md:px-6","lg:px-8"],[1,"w-full","max-w-4xl","mx-auto","shadow","p-5","mb-10","mt-2","bg-white"],[1,"text-xl","sm:text-2xl","pt-6","sm:pt-10","main-color","font-semibold"],[1,"pt-6","sm:pt-10","pb-10",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngClass"],[1,"bg-red-200","p-2","mt-2","mb-3","rounded"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","formControlName","password",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngClass"],[1,"flex","flex-row","items-center","justify-between","gap-4"],["routerLink","/changePassword",1,"text-sm","text-blue-600","hover:underline"],["type","submit",1,"link-style","mt-5","mb-5",3,"disabled"],[1,"pr-1"],[1,"fa","fa-spinner","fa-spin"]],template:function(b,t){if(b&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"Login "),i(),n(4,"form",3),w("ngSubmit",function(){return t.submitLoginForm()}),n(5,"div")(6,"label",4),l(7,"Email:"),i(),h(8,"input",5),p(9,$,3,1,"div",6),i(),n(10,"div")(11,"label",7),l(12,"Password:"),i(),h(13,"input",8),p(14,U,3,1,"div",6),i(),n(15,"div",9)(16,"a",10),l(17,"Change Password"),i(),n(18,"button",11),p(19,Z,4,0)(20,I,2,0),i()()()()()),b&2){let r,u,a,g;s(4),f("formGroup",t.LoginForm),s(4),f("ngClass",v(7,B,!((r=t.LoginForm.get("email"))!=null&&r.errors)&&(((r=t.LoginForm.get("email"))==null?null:r.touched)||((r=t.LoginForm.get("email"))==null?null:r.dirty)),((r=t.LoginForm.get("email"))==null?null:r.errors)&&(((r=t.LoginForm.get("email"))==null?null:r.touched)||((r=t.LoginForm.get("email"))==null?null:r.dirty)))),s(),c(9,(u=t.LoginForm.get("email"))!=null&&u.errors&&((u=t.LoginForm.get("email"))!=null&&u.touched||(u=t.LoginForm.get("email"))!=null&&u.dirty)?9:-1),s(4),f("ngClass",v(10,B,!((a=t.LoginForm.get("password"))!=null&&a.errors)&&(((a=t.LoginForm.get("password"))==null?null:a.touched)||((a=t.LoginForm.get("password"))==null?null:a.dirty)),((a=t.LoginForm.get("password"))==null?null:a.errors)&&(((a=t.LoginForm.get("password"))==null?null:a.touched)||((a=t.LoginForm.get("password"))==null?null:a.dirty)))),s(),c(14,(g=t.LoginForm.get("password"))!=null&&g.errors&&((g=t.LoginForm.get("password"))!=null&&g.touched||(g=t.LoginForm.get("password"))!=null&&g.dirty)?14:-1),s(4),f("disabled",t.LoginForm.invalid||t.isLoading),s(),c(19,t.isLoading?19:20)}},dependencies:[G,N,k,A,T,R,q,E,y]});let e=o;return e})();export{ee as LoginComponent};
