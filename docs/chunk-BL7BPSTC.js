import{a as A,b as c,c as D,d as M,i as O,j as $,k as G,l as L,n as V,p as U}from"./chunk-MVVDI6KC.js";import{g as B,k as z}from"./chunk-4NIGMDT4.js";import{h as k,j as P,l as N}from"./chunk-PD7QXDTS.js";import{$a as p,Ab as m,Hb as q,Ib as w,Ka as o,S as C,V as T,db as a,kb as i,lb as r,mb as R,tb as I,ub as h}from"./chunk-4EDIGTJX.js";import"./chunk-TMC7WMLO.js";var S=(e,n)=>({"is-valid":e,"is-invalid":n});function Z(e,n){e&1&&(i(0,"p"),m(1,"Name is required"),r())}function j(e,n){e&1&&(i(0,"p"),m(1,"Name should be more than or equal to 3 chars"),r())}function Y(e,n){e&1&&(i(0,"p"),m(1,"Name should be less than or equal to 20 chars"),r())}function H(e,n){if(e&1&&(i(0,"div")(1,"div",26),p(2,Z,2,0,"p",7)(3,j,2,0,"p",7)(4,Y,2,0,"p",7),r()()),e&2){let g,l,d,t=h();o(2),a("ngIf",(g=t.RegisterForm.get("name"))==null?null:g.hasError("required")),o(),a("ngIf",(l=t.RegisterForm.get("name"))==null?null:l.hasError("minlength")),o(),a("ngIf",(d=t.RegisterForm.get("name"))==null?null:d.hasError("maxlength"))}}function J(e,n){e&1&&(i(0,"p"),m(1,"Email is required"),r())}function K(e,n){e&1&&(i(0,"p"),m(1,"Enter a valid email"),r())}function Q(e,n){if(e&1&&(i(0,"div")(1,"div",26),p(2,J,2,0,"p",7)(3,K,2,0,"p",7),r()()),e&2){let g,l,d=h();o(2),a("ngIf",(g=d.RegisterForm.get("email"))==null?null:g.hasError("required")),o(),a("ngIf",(l=d.RegisterForm.get("email"))==null?null:l.hasError("email"))}}function W(e,n){e&1&&(i(0,"p"),m(1,"Password is required"),r())}function X(e,n){e&1&&(i(0,"p"),m(1,"At least one uppercase letter (A-Z). "),r())}function ee(e,n){e&1&&(i(0,"p"),m(1,"At least one lowercase letter (a-z)."),r())}function te(e,n){e&1&&(i(0,"p"),m(1,"At least one lowercase number (0-9)."),r())}function re(e,n){e&1&&(i(0,"p"),m(1,"At least one symbol (#?!$%^&*-). "),r())}function ie(e,n){e&1&&(i(0,"p"),m(1,"The word must be 8 or more characters long."),r())}function ne(e,n){if(e&1&&(i(0,"div")(1,"div",26),p(2,W,2,0,"p",7)(3,X,2,0,"p",7)(4,ee,2,0,"p",7)(5,te,2,0,"p",7)(6,re,2,0,"p",7)(7,ie,2,0,"p",7),r()()),e&2){let g,l,d,t,u,v,s=h();o(2),a("ngIf",(g=s.RegisterForm.get("password"))==null?null:g.hasError("required")),o(),a("ngIf",(l=s.RegisterForm.get("password"))==null?null:l.hasError("pattern")),o(),a("ngIf",(d=s.RegisterForm.get("password"))==null?null:d.hasError("pattern")),o(),a("ngIf",(t=s.RegisterForm.get("password"))==null?null:t.hasError("pattern")),o(),a("ngIf",(u=s.RegisterForm.get("password"))==null?null:u.hasError("pattern")),o(),a("ngIf",(v=s.RegisterForm.get("password"))==null?null:v.hasError("pattern"))}}function le(e,n){e&1&&(i(0,"p"),m(1,"Confirm Password is required"),r())}function oe(e,n){e&1&&(i(0,"p"),m(1,"Password does not match"),r())}function ae(e,n){if(e&1&&(i(0,"div")(1,"div",26),p(2,le,2,0,"p",7)(3,oe,2,0,"p",7),r()()),e&2){let g,l=h();o(2),a("ngIf",(g=l.RegisterForm.get("rePassword"))==null?null:g.hasError("required")),o(),a("ngIf",l.RegisterForm.errors==null?null:l.RegisterForm.errors.mismatch)}}function me(e,n){e&1&&(i(0,"div")(1,"p"),m(2,"Date of Birth is Required"),r()())}function se(e,n){e&1&&(i(0,"div")(1,"p"),m(2,"Date of Birth is not valid"),r()())}function de(e,n){if(e&1&&(i(0,"div",26),p(1,me,3,0,"div",7)(2,se,3,0,"div",7),r()),e&2){let g,l,d=h();o(),a("ngIf",(g=d.RegisterForm.get("dateOfBirth"))==null?null:g.hasError("required")),o(),a("ngIf",(l=d.RegisterForm.get("dateOfBirth"))==null?null:l.hasError("pattern"))}}function ue(e,n){e&1&&(i(0,"p"),m(1,"Gender is required"),r())}function ge(e,n){if(e&1&&(i(0,"div")(1,"div",26),p(2,ue,2,0,"p",7),r()()),e&2){let g,l=h();o(2),a("ngIf",(g=l.RegisterForm.get("gender"))==null?null:g.hasError("required"))}}var Fe=(()=>{let n=class n{constructor(){this._UsersService=C(z),this._FormBuilder=C(V),this._Router=C(B),this.isLoading=!1,this.RegisterForm=this._FormBuilder.group({name:[null,[c.required,c.minLength(3),c.maxLength(20)]],email:[null,[c.required,c.email]],password:[null,[c.required,c.pattern(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/)]],rePassword:[null,c.required],dateOfBirth:[this.getTodayDate(),[c.required,c.pattern(/^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/)]],gender:[null,[c.required]]},{validators:[this.checkRepasswordMatch]})}ngAfterViewInit(){}getTodayDate(){let l=new Date,d=l.getFullYear(),t=String(l.getMonth()+1).padStart(2,"0"),u=String(l.getDate()).padStart(2,"0");return`${d}-${t}-${u}`}checkRepasswordMatch(l){return l.get("password")?.value===l.get("rePassword")?.value?null:{mismatch:!0}}submitRegisterForm(){console.log(this.RegisterForm),console.log(this.RegisterForm.valid),this.RegisterForm.valid?(this.isLoading=!0,this.fetchApi()):this.RegisterForm.markAllAsTouched()}fetchApi(){this._UsersService.signup(this.RegisterForm.value).subscribe({next:l=>{l.message==="success"&&this._Router.navigate(["/signin"]),console.log(l),this.isLoading=!1}})}};n.\u0275fac=function(d){return new(d||n)},n.\u0275cmp=T({type:n,selectors:[["app-register"]],standalone:!0,features:[q],decls:47,vars:23,consts:[[1,"container","mx-auto","px-4","md:px-6","lg:px-8"],[1,"w-full","max-w-4xl","mx-auto","shadow","p-5","mb-10","mt-10","bg-white"],[1,"text-xl","sm:text-2xl","pt-6","sm:pt-10","main-color","font-semibold"],[1,"pt-6","sm:pt-10","pb-10",3,"ngSubmit","formGroup"],[1,"mb-5"],["for","name",1,"block","mb-1","text-sm","font-medium"],["type","text","id","name","formControlName","name",1,"w-full","p-2.5","text-sm","rounded-lg","border","border-gray-300","focus:ring-blue-500","focus:border-blue-500","bg-gray-50",3,"ngClass"],[4,"ngIf"],["for","email",1,"block","mb-1","text-sm","font-medium"],["type","email","id","email","formControlName","email",1,"w-full","p-2.5","text-sm","rounded-lg","border","border-gray-300","focus:ring-blue-500","focus:border-blue-500","bg-gray-50",3,"ngClass"],["for","password",1,"block","mb-1","text-sm","font-medium"],["type","password","id","password","formControlName","password",1,"w-full","p-2.5","text-sm","rounded-lg","border","border-gray-300","focus:ring-blue-500","focus:border-blue-500","bg-gray-50",3,"ngClass"],["for","rePassword",1,"block","mb-1","text-sm","font-medium"],["type","password","id","rePassword","formControlName","rePassword",1,"w-full","p-2.5","text-sm","rounded-lg","border","border-gray-300","focus:ring-blue-500","focus:border-blue-500","bg-gray-50",3,"ngClass"],["for","dateOfBirth",1,"block","mb-1","text-sm","font-medium"],["formControlName","dateOfBirth","id","dateOfBirth","type","date","placeholder","Select date",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5"],["class","bg-red-200 p-2 mt-2 mb-3 rounded",4,"ngIf"],[1,"flex-1"],["for","gender",1,"text-sm","font-medium","text-gray-700","dark:text-white"],["id","gender",1,"flex","space-x-4"],[1,"flex","items-center","pl-4"],["id","genderMale","type","radio","formControlName","gender","value","male",1,"h-4","w-4","border-gray-300","text-blue-600","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800"],["for","genderMale",1,"ml-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["id","genderFemale","type","radio","formControlName","gender","value","female",1,"h-4","w-4","border-gray-300","text-blue-600","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800"],["for","genderFemale",1,"ml-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["type","submit",1,"w-full","py-2.5","px-5","text-sm","font-medium","text-center","text-white","bg-blue-700","rounded-lg","hover:bg-blue-800","focus:ring-4","focus:ring-blue-300","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800"],[1,"bg-red-200","p-2","mt-2","mb-3","rounded"]],template:function(d,t){if(d&1&&(i(0,"div",0)(1,"div",1)(2,"h1",2),m(3,"Register"),r(),i(4,"form",3),I("ngSubmit",function(){return t.submitRegisterForm()}),i(5,"div",4)(6,"label",5),m(7,"Name:"),r(),R(8,"input",6),p(9,H,5,3,"div",7),r(),i(10,"div",4)(11,"label",8),m(12,"Email:"),r(),R(13,"input",9),p(14,Q,4,2,"div",7),r(),i(15,"div",4)(16,"label",10),m(17,"Password:"),r(),R(18,"input",11),p(19,ne,8,6,"div",7),r(),i(20,"div",4)(21,"label",12),m(22,"Confirm Password:"),r(),R(23,"input",13),p(24,ae,4,2,"div",7),r(),i(25,"div",4)(26,"label",14),m(27,"Date of Birth:"),r(),R(28,"input",15),p(29,de,3,2,"div",16),r(),i(30,"div",4)(31,"div",17)(32,"label",18),m(33,"Gender:"),r(),i(34,"div",19)(35,"div",20),R(36,"input",21),i(37,"label",22),m(38,"Male"),r()(),i(39,"div",20),R(40,"input",23),i(41,"label",24),m(42,"Female"),r()()(),p(43,ge,3,1,"div",7),r()(),i(44,"div",4)(45,"button",25),m(46,"Register"),r()()()()()),d&2){let u,v,s,b,f,F,_,E,y,x;o(4),a("formGroup",t.RegisterForm),o(4),a("ngClass",w(11,S,!((u=t.RegisterForm.get("name"))!=null&&u.errors)&&(((u=t.RegisterForm.get("name"))==null?null:u.touched)||((u=t.RegisterForm.get("name"))==null?null:u.dirty)),((u=t.RegisterForm.get("name"))==null?null:u.errors)&&(((u=t.RegisterForm.get("name"))==null?null:u.touched)||((u=t.RegisterForm.get("name"))==null?null:u.dirty)))),o(),a("ngIf",((v=t.RegisterForm.get("name"))==null?null:v.errors)&&(((v=t.RegisterForm.get("name"))==null?null:v.touched)||((v=t.RegisterForm.get("name"))==null?null:v.dirty))),o(4),a("ngClass",w(14,S,!((s=t.RegisterForm.get("email"))!=null&&s.errors)&&(((s=t.RegisterForm.get("email"))==null?null:s.touched)||((s=t.RegisterForm.get("email"))==null?null:s.dirty)),((s=t.RegisterForm.get("email"))==null?null:s.errors)&&(((s=t.RegisterForm.get("email"))==null?null:s.touched)||((s=t.RegisterForm.get("email"))==null?null:s.dirty)))),o(),a("ngIf",((b=t.RegisterForm.get("email"))==null?null:b.errors)&&(((b=t.RegisterForm.get("email"))==null?null:b.touched)||((b=t.RegisterForm.get("email"))==null?null:b.dirty))),o(4),a("ngClass",w(17,S,!((f=t.RegisterForm.get("password"))!=null&&f.errors)&&(((f=t.RegisterForm.get("password"))==null?null:f.touched)||((f=t.RegisterForm.get("password"))==null?null:f.dirty)),((f=t.RegisterForm.get("password"))==null?null:f.errors)&&(((f=t.RegisterForm.get("password"))==null?null:f.touched)||((f=t.RegisterForm.get("password"))==null?null:f.dirty)))),o(),a("ngIf",((F=t.RegisterForm.get("password"))==null?null:F.errors)&&(((F=t.RegisterForm.get("password"))==null?null:F.touched)||((F=t.RegisterForm.get("password"))==null?null:F.dirty))),o(4),a("ngClass",w(20,S,!((_=t.RegisterForm.get("rePassword"))!=null&&_.errors)&&(((_=t.RegisterForm.get("rePassword"))==null?null:_.touched)||((_=t.RegisterForm.get("rePassword"))==null?null:_.dirty)),((_=t.RegisterForm.get("rePassword"))==null?null:_.errors)&&(((_=t.RegisterForm.get("rePassword"))==null?null:_.touched)||((_=t.RegisterForm.get("rePassword"))==null?null:_.dirty)))),o(),a("ngIf",(t.RegisterForm.errors==null?null:t.RegisterForm.errors.mismatch)&&(((E=t.RegisterForm.get("rePassword"))==null?null:E.touched)||((E=t.RegisterForm.get("rePassword"))==null?null:E.dirty))),o(5),a("ngIf",((y=t.RegisterForm.get("dateOfBirth"))==null?null:y.errors)&&(((y=t.RegisterForm.get("dateOfBirth"))==null?null:y.touched)||((y=t.RegisterForm.get("dateOfBirth"))==null?null:y.dirty))),o(14),a("ngIf",((x=t.RegisterForm.get("gender"))==null?null:x.errors)&&(((x=t.RegisterForm.get("gender"))==null?null:x.touched)||((x=t.RegisterForm.get("gender"))==null?null:x.dirty)))}},dependencies:[U,O,A,$,D,M,G,L,k,P,N]});let e=n;return e})();export{Fe as RegisterComponent};
